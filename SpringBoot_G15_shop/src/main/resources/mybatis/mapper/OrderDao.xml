<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
        
  <mapper namespace = "com.ezen.g15.dao.IOrderDao">
  
  
  <insert id="insertOrders" parameterType="com.ezen.g15.dto.OrderVO">
       Insert into orderList(oseq, id )
       values(cart_seq.nextval, #{id} ) 
  </insert>
  
  <select id="LookupMaxOseq" resultType="com.ezen.g15.dto.OrderVO">
    select max oseq from orders
  </select>
  
    <insert id="insertOrderDetail" parameterType="com.ezen.g15.dto.OrderVO">
       Insert into orderList(oseq, id, pseq, quantity)
       values(cart_seq.nextval, #{id},#{ oseq},#{quantity} ) 
    </insert>
  
  <select id="getOrderList" resultType="com.ezen.g15.dto.OrderVO">
     select * from order_view where id=#{param1} order by oseq desc
  </select>
  
   <delete id="deleteCart">
     delete from cart  where oseq=#{param1} 
  </delete>
  
  
  </mapper>
